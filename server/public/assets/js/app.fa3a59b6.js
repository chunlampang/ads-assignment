(function(e){function t(t){for(var n,a,l=t[0],o=t[1],c=t[2],u=0,d=[];u<l.length;u++)a=l[u],r[a]&&d.push(r[a][0]),r[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);_&&_(t);while(d.length)d.shift()();return s.push.apply(s,c||[]),i()}function i(){for(var e,t=0;t<s.length;t++){for(var i=s[t],n=!0,a=1;a<i.length;a++){var l=i[a];0!==r[l]&&(n=!1)}n&&(s.splice(t--,1),e=o(o.s=i[0]))}return e}var n={},a={app:0},r={app:0},s=[];function l(e){return o.p+"assets/js/"+({}[e]||e)+"."+{"chunk-2d0af8b7":"6ea7b36f","chunk-2d0ba193":"0e9a7df0","chunk-2d208aab":"e7724c3d","chunk-30943e50":"8ea5b71b","chunk-6bd10e57":"48dfb06d"}[e]+".js"}function o(t){if(n[t])return n[t].exports;var i=n[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.e=function(e){var t=[],i={"chunk-30943e50":1,"chunk-6bd10e57":1};a[e]?t.push(a[e]):0!==a[e]&&i[e]&&t.push(a[e]=new Promise(function(t,i){for(var n="assets/css/"+({}[e]||e)+"."+{"chunk-2d0af8b7":"31d6cfe0","chunk-2d0ba193":"31d6cfe0","chunk-2d208aab":"31d6cfe0","chunk-30943e50":"afde4ec7","chunk-6bd10e57":"4c3065a4"}[e]+".css",r=o.p+n,s=document.getElementsByTagName("link"),l=0;l<s.length;l++){var c=s[l],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===n||u===r))return t()}var d=document.getElementsByTagName("style");for(l=0;l<d.length;l++){c=d[l],u=c.getAttribute("data-href");if(u===n||u===r)return t()}var _=document.createElement("link");_.rel="stylesheet",_.type="text/css",_.onload=t,_.onerror=function(t){var n=t&&t.target&&t.target.src||r,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[e],_.parentNode.removeChild(_),i(s)},_.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(_)}).then(function(){a[e]=0}));var n=r[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise(function(t,i){n=r[e]=[t,i]});t.push(n[2]=s);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=l(e),c=function(t){u.onerror=u.onload=null,clearTimeout(d);var i=r[e];if(0!==i){if(i){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,s=new Error("Loading chunk "+e+" failed.\n("+n+": "+a+")");s.type=n,s.request=a,i[1](s)}r[e]=void 0}};var d=setTimeout(function(){c({type:"timeout",target:u})},12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},o.m=e,o.c=n,o.d=function(e,t,i){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(i,n,function(t){return e[t]}.bind(null,n));return i},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var d=0;d<c.length;d++)t(c[d]);var _=u;s.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"1e4f":function(e,t,i){},"203a":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6762"),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2fdb"),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_1__),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_2__),C_Users_chunlam_pang_Documents_GitHub_ads_assignment_vue_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("3b8d"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_4__),_components_blocks_BaseAlert__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("f869");__webpack_exports__["a"]={name:"EditView",components:{BaseAlert:_components_blocks_BaseAlert__WEBPACK_IMPORTED_MODULE_5__["a"]},props:{entity:Object,id:String|Number,alert:{type:Object,default:function(){return{show:!1,self:!0}}}},inject:["entities","configs"],data:function(){return{item:null,loading:!0,valid:!1,submitting:!1}},created:function(){var e=Object(C_Users_chunlam_pang_Documents_GitHub_ads_assignment_vue_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getItem();case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{getItem:function(){var _getItem=Object(C_Users_chunlam_pang_Documents_GitHub_ads_assignment_vue_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark(function _callee2(){var initEdit,newItemObj,instance,result;return regeneratorRuntime.wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:if(this.loading=!0,_context2.prev=1,"new"!==this.id){_context2.next=9;break}return initEdit=function initEdit(fields,namespace){for(var fieldName in fields){var field=fields[fieldName];if(field.view.includes("edit")){namespace&&(fieldName=namespace+"."+fieldName);var val=field.default?eval(field.default):null;if(instance.$utils.setVarByDotNotation(newItemObj,fieldName,val),"fieldset"!==field.type);else{var fieldset=instance.configs.fieldsets[field.fieldset];initEdit(fieldset.fields,fieldName)}}}},newItemObj={},instance=this,initEdit(this.entity.fields),this.item=newItemObj,_context2.abrupt("return");case 9:return _context2.next=11,this.$api.get("/"+this.entity.collection,this.id);case 11:if(result=_context2.sent,!result.error){_context2.next=18;break}return this.item=null,this.alert.type="error",this.alert.msg=result.error,this.alert.show=!0,_context2.abrupt("return");case 18:this.item=result.data;case 19:return _context2.prev=19,this.loading=!1,_context2.finish(19);case 22:case"end":return _context2.stop()}},_callee2,this,[[1,,19,22]])}));function getItem(){return _getItem.apply(this,arguments)}return getItem}(),submit:function(){var e=Object(C_Users_chunlam_pang_Documents_GitHub_ads_assignment_vue_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.alert.show=!1,this.$refs.form.validate()){e.next=3;break}return e.abrupt("return");case 3:if(this.$emit("submit"),this.submitting=!0,"new"!==this.id){e.next=11;break}return e.next=8,this.$api.insert("/"+this.entity.collection,this.item);case 8:t=e.sent,e.next=16;break;case 11:return i=Object.assign({},this.item),delete i._id,e.next=15,this.$api.update("/"+this.entity.collection,this.id,i);case 15:t=e.sent;case 16:this.submitting=!1,t.ok?(this.alert.type="success",this.alert.msg="Saved.",this.alert.show=!0,Object.assign(this.item,t.data),this.$emit("updated",t.data)):t.error&&(this.alert.type="error",this.alert.msg=t.error,this.alert.show=!0);case 18:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),reset:function(){this.alert.show=!1,"new"===this.id?this.$refs.form.reset():(this.$refs.form.resetValidation(),this.getItem()),this.$emit("reset")},getReferenceFilter:function(e){var t={};return t[e.field]=this.id,t}}}},"2ecc":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_number_is_integer__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7cdf"),core_js_modules_es6_number_is_integer__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_number_is_integer__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("28a5"),core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_regexp_split__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ac4d"),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("8a81"),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__),C_Users_chunlam_pang_Documents_GitHub_ads_assignment_vue_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("7618"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_6__),C_Users_chunlam_pang_Documents_GitHub_ads_assignment_vue_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("3b8d"),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("6762"),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("2fdb"),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_10__),_components_blocks_DateField__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("5e00"),_components_blocks_DatetimeField__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("74c9"),_EditFieldsList__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("de49"),_loadOptionsMixin__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("f917");__webpack_exports__["a"]={name:"EditFields",mixins:[_loadOptionsMixin__WEBPACK_IMPORTED_MODULE_14__["a"]],components:{DateField:_components_blocks_DateField__WEBPACK_IMPORTED_MODULE_11__["a"],DatetimeField:_components_blocks_DatetimeField__WEBPACK_IMPORTED_MODULE_12__["a"],EditFieldsList:_EditFieldsList__WEBPACK_IMPORTED_MODULE_13__["a"]},props:{fields:Object,fieldsRoot:{type:Object,default:function(){return this.fields}},value:Object,valueRoot:{type:Object,default:function(){return this.value}},id:String|Number,fieldsetSrc:Object},inject:["configs"],data:function data(){var editFields={},activeFieldsetPanels={},calOrder=[];for(var fieldName in this.fields){var field=this.fields[fieldName];if(field.view.includes("edit")){switch(editFields[fieldName]=field,field.type){case"fieldset":activeFieldsetPanels[fieldName]=0,this.value[fieldName]||(this.value[fieldName]={});continue;case"list":this.value[fieldName]||(this.value[fieldName]=[]);continue}field.cal&&(calOrder[field.cal.order]||(calOrder[field.cal.order]=[]),calOrder[field.cal.order].push({field:fieldName,fc:eval("item => ".concat(field.cal.fc))}))}}var data={loading:!0,rulesCache:{},activeFieldsetPanels:activeFieldsetPanels,editFields:editFields,calOrder:calOrder};if(this.fieldsetSrc){var fieldsetAutoInput={loading:!1,items:[],input:null};fieldsetAutoInput.item=this.value[this.fieldsetSrc.key],data.fieldsetAutoInput=fieldsetAutoInput}return data},created:function(){var e=Object(C_Users_chunlam_pang_Documents_GitHub_ads_assignment_vue_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function e(){var t,i,n=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initOptions(this.editFields);case 2:for(i in this.fieldsetSrc&&(this.$watch("valueRoot."+this.fieldsetSrc.itemkey,this.getFieldsetSrcOption),this.getFieldsetSrcOption(),this.$watch("fieldsetAutoInput.item",function(e){"object"===Object(C_Users_chunlam_pang_Documents_GitHub_ads_assignment_vue_node_modules_babel_runtime_corejs2_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_5__["a"])(e)?Object.assign(n.value,e):n.value[n.fieldsetSrc.key]=e})),t=function(e){var t=n.fields[e];t.cal&&n.$watch("calFields."+e,function(t){n.value[e]=t})},this.editFields)t(i);this.loading=!1;case 6:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),computed:{calFields:function(){var e={};for(var t in this.calOrder){var i=this.calOrder[t],n=!0,a=!1,r=void 0;try{for(var s,l=i[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var o=s.value;e[o.field]=o.fc(this.value)}}catch(c){a=!0,r=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}}return e}},methods:{getFieldsetSrcOption:function(){var e=Object(C_Users_chunlam_pang_Documents_GitHub_ads_assignment_vue_node_modules_babel_runtime_corejs2_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_7__["a"])(regeneratorRuntime.mark(function e(){var t,i,n,a,r,s,l,o,c,u,d,_,f,p,m;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.fieldsetAutoInput.loading=!0,this.fieldsetAutoInput.items=[],t=this.fieldsetSrc.entity,{},n=this.valueRoot[this.fieldsetSrc.itemkey],!n){e.next=47;break}return e.next=8,this.$api.get("/"+this.entities[t].collection,this.valueRoot[this.fieldsetSrc.itemkey],{fields:this.fieldsetSrc.field});case 8:if(i=e.sent,!i.error){e.next=13;break}console.error(i.error),e.next=47;break;case 13:a=this.fieldsetSrc.field.split("."),r=i.data,[],s=0,s=0;case 18:if(!(s<a.length)){e.next=28;break}if(l=a[s],!Array.isArray(r)){e.next=24;break}return e.abrupt("break",28);case 24:r=r[l];case 25:s++,e.next=18;break;case 28:for(o=!0,c=!1,u=void 0,e.prev=31,d=r[Symbol.iterator]();!(o=(_=d.next()).done);o=!0){for(f=_.value,p=f,m=s;m<a.length;m++)p=p[a[m]];this.fieldsetAutoInput.items.push(p)}e.next=39;break;case 35:e.prev=35,e.t0=e["catch"](31),c=!0,u=e.t0;case 39:e.prev=39,e.prev=40,o||null==d.return||d.return();case 42:if(e.prev=42,!c){e.next=45;break}throw u;case 45:return e.finish(42);case 46:return e.finish(39);case 47:this.fieldsetAutoInput.loading=!1;case 48:case"end":return e.stop()}},e,this,[[31,35,39,47],[40,,42,46]])}));function t(){return e.apply(this,arguments)}return t}(),getRules:function(e){if(this.rulesCache[e.label])return this.rulesCache[e.label];var t=[];if(e.rules){var i=!0,n=!1,a=void 0;try{for(var r,s=e.rules[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var l=r.value;switch(l){case"required":t.push(function(t){return!!t||e.label+" is required."});break;case"integer":t.push(function(t){return Number.isInteger(Number(t))||e.label+" should be an integer."});break;case"positive":t.push(function(t){return t>=0||e.label+" should be positive."});break}}}catch(o){n=!0,a=o}finally{try{i||null==s.return||s.return()}finally{if(n)throw a}}}return this.rulesCache[e.label]=t},readonly:function(e){return 2===e.readonly||1===e.readonly&&"new"!==this.id},required:function(e){return e.rules&&e.rules.includes("required")}}}},4678:function(e,t,i){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=r(e);return i(t)}function r(e){var t=n[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="4678"},"47a5":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-expansion-panels",[i("v-expansion-panel",[i("v-expansion-panel-header",{attrs:{ripple:""}},[i("div",[i("v-icon",{attrs:{color:"primary"}},[e._v("mdi-filter")]),i("span",{staticClass:"ml-3 subtitle-1 font-weight-medium"},[e._v("Filter")])],1)]),i("v-expansion-panel-content",[i("v-form",{ref:"form",attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.search(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("ListFilterFields",{attrs:{fields:e.entity.fields,viewType:e.viewType,value:e.value,collection:e.entity.collection}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"text-none",attrs:{color:"warning",text:""},on:{click:e.resetFilter}},[e._v("Reset")]),i("v-btn",{ref:"btnSubmit",staticClass:"text-none",attrs:{type:"submit",disabled:!e.valid,color:"primary",text:""}},[e._v("Search")])],1)],1)],1)],1)],1)],1)},a=[],r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[e.loading?e._e():i("v-layout",{attrs:{row:"",wrap:""}},e._l(e.filterFields,function(t,n){return i("v-flex",{key:n,attrs:{xs12:""}},["number"===t.type?[i("v-container",{attrs:{"pa-0":"","grid-list-xl":""}},[i("v-layout",[i("v-flex",{attrs:{xs6:""}},[i("v-text-field",{attrs:{type:"number",label:t.label+" (From)"},model:{value:e.rangeFields[n].from,callback:function(t){e.$set(e.rangeFields[n],"from",t)},expression:"rangeFields[fieldName].from"}})],1),i("v-flex",{attrs:{xs6:""}},[i("v-text-field",{attrs:{type:"number",label:t.label+" (To)"},scopedSlots:e._u([{key:"append-outer",fn:function(){return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-btn",e._g({attrs:{small:"",icon:""},on:{click:function(t){return e.sameAsFrom(n)}}},a),[i("v-icon",[e._v("mdi-content-copy")])],1)]}}],null,!0)},[i("span",[e._v("Same as From")])])]},proxy:!0}],null,!0),model:{value:e.rangeFields[n].to,callback:function(t){e.$set(e.rangeFields[n],"to",t)},expression:"rangeFields[fieldName].to"}})],1)],1)],1)]:"date"===t.type?[i("v-container",{attrs:{"pa-0":"","grid-list-xl":""}},[i("v-layout",[i("v-flex",{attrs:{xs6:""}},[i("DateField",{attrs:{label:t.label+" (From)"},model:{value:e.rangeFields[n].from,callback:function(t){e.$set(e.rangeFields[n],"from",t)},expression:"rangeFields[fieldName].from"}})],1),i("v-flex",{attrs:{xs6:""}},[i("DateField",{attrs:{label:t.label+" (To)"},scopedSlots:e._u([{key:"append-outer",fn:function(){return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-btn",e._g({attrs:{small:"",icon:""},on:{click:function(t){return e.sameAsFrom(n)}}},a),[i("v-icon",[e._v("mdi-content-copy")])],1)]}}],null,!0)},[i("span",[e._v("Same as From")])])]},proxy:!0}],null,!0),model:{value:e.rangeFields[n].to,callback:function(t){e.$set(e.rangeFields[n],"to",t)},expression:"rangeFields[fieldName].to"}})],1)],1)],1)]:"datetime"===t.type?[i("v-container",{attrs:{"pa-0":"","grid-list-xl":""}},[i("v-layout",[i("v-flex",{attrs:{xs6:""}},[i("DatetimeField",{attrs:{label:t.label+" (From)"},scopedSlots:e._u([{key:"append-outer",fn:function(){return[i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-btn",e._g({attrs:{small:"",icon:""},on:{click:function(t){return e.sameAsFrom(n)}}},a),[i("v-icon",[e._v("mdi-content-copy")])],1)]}}],null,!0)},[i("span",[e._v("Same as From")])])]},proxy:!0}],null,!0),model:{value:e.rangeFields[n].from,callback:function(t){e.$set(e.rangeFields[n],"from",t)},expression:"rangeFields[fieldName].from"}})],1),i("v-flex",{attrs:{xs6:""}},[i("DatetimeField",{attrs:{label:t.label+" (To)"},model:{value:e.rangeFields[n].to,callback:function(t){e.$set(e.rangeFields[n],"to",t)},expression:"rangeFields[fieldName].to"}})],1)],1)],1)]:"entity"===t.type?i("v-select",{attrs:{"item-value":"_id","item-text":e.$api.getOptionItemText(e.entities[t.entity]),items:e.options[t.entity],label:t.label,multiple:"",clearable:"",chips:"",counter:""},model:{value:e.value[n],callback:function(t){e.$set(e.value,n,t)},expression:"value[fieldName]"}}):"string"===t.type?i("v-combobox",{attrs:{loading:e.autoInput[n].loading,items:e.autoInput[n].items,"item-value":"value","item-text":"value","search-input":e.autoInput[n].input,"no-filter":"",dense:"","hide-selected":"","hide-no-data":"",label:t.label,"return-object":!1},on:{"update:searchInput":function(t){return e.$set(e.autoInput[n],"input",t)},"update:search-input":function(t){return e.$set(e.autoInput[n],"input",t)},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.search(t)}},model:{value:e.value[n],callback:function(t){e.$set(e.value,n,t)},expression:"value[fieldName]"}}):"fieldset"===t.type?i("v-card",{staticClass:"mb-4 mt-2"},[i("v-card-title",[i("h4",{staticClass:"title font-weight-regular"},[e._v(e._s(t.label))])]),i("v-card-text",[i("ListFilterFields",{attrs:{fields:e.configs.fieldsets[t.fieldset].fields,viewType:e.viewType,value:e.value[n],collection:e.collection,namespace:n}})],1)],1):e._e()],2)}),1)],1)},s=[],l=(i("96cf"),i("3b8d")),o=(i("6762"),i("2fdb"),i("5e00")),c=i("74c9"),u=i("f917"),d={name:"ListFilterFields",mixins:[u["a"]],components:{DateField:o["a"],DatetimeField:c["a"],ListFilterFields:P},props:{fields:Object,viewType:String,value:Object,collection:String,namespace:String},inject:["configs"],data:function(){var e=this.fields,t={},i={},n={};for(var a in e){var r=e[a];if(r.view.includes(this.viewType))switch(t[a]=r,r.type){case"fieldset":this.value[a]={};break;case"number":case"date":case"datetime":this.value[a];n[a]={from:null,to:null};break;case"string":this.value[a]="",i[a]={loading:!1,items:[],input:null};break;default:this.value[a]=null}}return{loading:!0,autoInput:i,filterFields:t,rangeFields:n}},created:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.initOptions(this.filterFields);case 2:this.loading=!1;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),mounted:function(){var e=this,t=function(t){var i=e.filterFields[t];"string"===i.type&&e.$watch("autoInput.".concat(t,".input"),function(i){e.autoCompleteSearch(t,i)})};for(var i in this.filterFields)t(i)},watch:{rangeFields:{handler:function(e){for(var t in e)this.value[t]=e[t]},deep:!0}},methods:{sameAsFrom:function(e){this.value[e]&&(this.value[e].to=this.value[e].from||null)},resetFilter:function(){this.$refs.form.reset()},search:function(){this.$emit("search",this.value)},autoCompleteSearch:function(){var e=Object(l["a"])(regeneratorRuntime.mark(function e(t,i){var n,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this.autoInput[t],n.loading=!0,this.namespace&&(t=this.namespace+"."+t),a={},a[t]=".*"+i+".*",e.next=7,this.$api.queryStringOptions(this.collection,t,5,a);case 7:r=e.sent,r.error?console.error(r.error):n.items=r.data,n.loading=!1;case 10:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}()}},_=d,f=i("2877"),p=i("6544"),m=i.n(p),v=i("8336"),h=i("b0af"),b=i("99d9"),g=i("2b5d"),y=i("a523"),w=i("0e8f"),k=i("132d"),D=i("a722"),x=i("b974"),j=i("8654"),E=i("3a2f"),O=Object(f["a"])(_,r,s,!1,null,null,null),P=O.exports;m()(O,{VBtn:v["a"],VCard:h["a"],VCardText:b["b"],VCardTitle:b["c"],VCombobox:g["a"],VContainer:y["a"],VFlex:w["a"],VIcon:k["a"],VLayout:D["a"],VSelect:x["a"],VTextField:j["a"],VTooltip:E["a"]});var C={name:"ListFilter",components:{ListFilterFields:P},props:{entity:Object,viewType:String,value:Object},data:function(){return{valid:!0}},methods:{resetFilter:function(){this.$refs.form.reset()},search:function(){this.$emit("search",this.value)}}},M=C,T=i("cd55"),A=i("49e2"),I=i("c865"),R=i("0393"),F=i("4bd4"),S=i("2fa4"),V=Object(f["a"])(M,n,a,!1,null,null,null);t["a"]=V.exports;m()(V,{VBtn:v["a"],VCard:h["a"],VCardActions:b["a"],VCardText:b["b"],VExpansionPanel:T["a"],VExpansionPanelContent:A["a"],VExpansionPanelHeader:I["a"],VExpansionPanels:R["a"],VForm:F["a"],VIcon:k["a"],VSpacer:S["a"]})},"51e7":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("ac4d"),core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es7_symbol_async_iterator__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("8a81"),core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_symbol__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("6762"),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("2fdb"),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_4__),_components_blocks_BaseAlert__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("f869");__webpack_exports__["a"]={name:"EditFieldsList",components:{BaseAlert:_components_blocks_BaseAlert__WEBPACK_IMPORTED_MODULE_5__["a"]},props:{field:Object,value:Array,readonly:Boolean},inject:["configs"],data:function data(){var _this$field=this.field,fields=_this$field.fields,rules=_this$field.rules,headers=[];this.readonly||headers.push({text:"checkall",value:"checkall",sortable:!1,width:60}),headers.push({text:"Actions",value:"",sortable:!1,width:120});var newItemObj={},listFields=[],joinEntity=[],instance=this;function initList(e,t){for(var i in e){var n=e[i];if(n.view.includes("list"))if(t&&(i=t+"."+i),"fieldset"!==n.type)"list"!==n.type?(headers.push({text:n.label,type:n.type,value:i,width:120}),listFields.push(i)):initList(n.fields,i);else{var a=instance.configs.fieldsets[n.fieldset];initList(a.fields,i)}}}function initEdit(fields,namespace){for(var fieldName in fields){var field=fields[fieldName];if(field.view.includes("edit")){namespace&&(fieldName=namespace+"."+fieldName);var val=field.default?eval(field.default):null;if(instance.$utils.setVarByDotNotation(newItemObj,fieldName,val),"fieldset"!==field.type);else{var fieldset=instance.configs.fieldsets[field.fieldset];initEdit(fieldset.fields,fieldName)}}}}initList(fields),initEdit(fields);var bulkField=null;for(var fieldName in fields){var field=fields[fieldName];if(field.bulk){bulkField=fieldName;break}}return{fields:fields,headers:headers,selected:[],newItemObj:newItemObj,editDialog:{visible:!1,item:null,valid:!1,index:-1},editDialogAlert:{show:!1},deleteDialog:{visible:!1,items:[]},bulkField:bulkField}},computed:{selectedCount:function(){for(var e=0,t=0;t<this.selected.length;t++)this.selected[t]&&e++;return e},selectAll:{get:function(){return this.selectedCount===this.selected.length},set:function(e){for(var t=0;t<this.selected.length;t++)this.selected[t]=e}}},methods:{showEditDialog:function(e){this.editDialogAlert.show=!1,"new"===e?(this.editDialog.index=-1,e=this.newItemObj):this.editDialog.index=this.value.indexOf(e),this.editDialog.item=this.$utils.cloneVarDeep(e),this.editDialog.visible=!0},validateItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.editDialog.item,t=!0,i=!1,n=void 0;try{for(var a,r=this.field.indexs[Symbol.iterator]();!(t=(a=r.next()).done);t=!0)for(var s=a.value,l=0;l<this.value.length;l++)if(l!==this.editDialog.index){var o=0,c=[],u=!0,d=!1,_=void 0;try{for(var f,p=s[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var m=f.value;if("fieldset"===this.fields[m].type){var v=this.configs.fieldsets[this.fields[m].fieldset].desc.key;this.value[l][m][v]==e[m][v]&&(c||(c=[]),c.push(this.value[l][m][v]),o++)}else this.value[l][m]==e[m]&&(c||(c=[]),c.push(this.value[l][m]),o++)}}catch(h){d=!0,_=h}finally{try{u||null==p.return||p.return()}finally{if(d)throw _}}if(s.length===o)return this.editDialogAlert.type="error",this.editDialogAlert.msg=c.join(" + ")+" is already exist.",this.editDialogAlert.show=!0,!1}}catch(h){i=!0,n=h}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}return!0},submitItem:function(){if(this.editDialogAlert.show=!1,-1===this.editDialog.index&&this.bulkField){var e=[],t=!0,i=!1,n=void 0;try{for(var a,r=this.editDialog.item[this.bulkField][Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var s=a.value,l={};if(Object.assign(l,this.editDialog.item),l[this.bulkField]=s,!this.validateItem(l))return;e.push(l)}}catch(d){i=!0,n=d}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}for(var o=0,c=e;o<c.length;o++){var u=c[o];this.value.push(u)}}else{if(!this.validateItem())return;-1===this.editDialog.index?this.value.push(this.editDialog.item):Object.assign(this.value[this.editDialog.index],this.editDialog.item)}this.editDialog.visible=!1},resetItem:function(){this.editDialogAlert.show=!1,this.editDialog.item=-1!==this.editDialog.index?this.$utils.cloneVarDeep(this.value[this.editDialog.index]):{}},showDeleteDialogSingle:function(e){this.deleteDialog.items=[e],this.deleteDialog.visible=!0},showDeleteDialog:function(){for(var e=[],t=0;t<this.selected.length;t++)this.selected[t]&&e.push(this.value[t]);this.deleteDialog.items=e,this.deleteDialog.visible=!0},deleteItem:function(){this.$utils.removeItemsFromArray(this.value,this.deleteDialog.items),this.deleteDialog.visible=!1,this.deleteDialog.items=[],this.selected=[]}}}},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("f751"),i("097d");var n=i("2b0e"),a=i("f309");i("5363"),i("d4b8");n["a"].use(a["a"]);var r=new a["a"]({icons:{iconfont:"mdi"},theme:{themes:{light:{primary:"#b01861"}}}}),s=i("8c4f"),l=i("3384"),o=i.n(l);n["a"].use(s["a"]);var c=new s["a"]({mode:"history",base:"/",scrollBehavior:function(e,t,i){var n=0;return e.hash?n=e.hash:i&&(n=i.y),o()(n,{duration:300})},routes:[{path:"/",name:"index",component:function(){return i.e("chunk-6bd10e57").then(i.bind(null,"0842"))}},{path:"/courses-popular",name:"coursePopular",meta:{menu:{title:"Popular Courses",icon:"mdi-trophy"}},component:function(){return i.e("chunk-2d0ba193").then(i.bind(null,"3682"))}}]}),u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("AppFrame")},d=[],_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.ready?i("v-app",[i("AppToolbar",{attrs:{menu:e.menu}}),i("v-content",[i("v-container",{attrs:{fluid:"","fill-height":""}},[i("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[i("v-flex",{attrs:{xs11:"",sm10:"",md9:"",lg8:"",xl7:""}},[i("v-container",[i("transition",{attrs:{name:"scroll-y-transition"}},[i("router-view",{key:e.$route.name})],1)],1)],1)],1)],1)],1),i("AppFooter",{attrs:{menu:e.menu}})],1):e._e()},f=[],p=(i("96cf"),i("3b8d")),m=(i("7f7f"),i("ac4d"),i("8a81"),i("ac6a"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-app-bar",{attrs:{app:"",color:"primary",dark:"","elevate-on-scroll":""}},[i("v-app-bar-nav-icon",{staticClass:"hidden-lg-and-up",on:{click:function(t){t.stopPropagation(),e.showNav=!e.showNav}}}),i("v-toolbar-title",{staticClass:"headline font-weight-light",staticStyle:{cursor:"pointer"},on:{click:e.gotoHome}},[i("v-icon",{staticClass:"mr-3"},[e._v("mdi-school")]),e._v("Advanced Database Systems - Assignment 2 (Part B)\n    ")],1)],1),i("v-navigation-drawer",{attrs:{app:"",width:"250","expand-on-hover":e.$vuetify.breakpoint.lg},model:{value:e.showNav,callback:function(t){e.showNav=t},expression:"showNav"}},[i("v-list",{attrs:{shaped:""}},[i("v-list-item-group",{attrs:{color:"primary"}},[i("v-list-item",{attrs:{to:{name:"index"},exact:""}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-home")])],1),i("v-list-item-content",[i("v-list-item-title",[e._v("Home")])],1)],1)],1),i("v-divider"),i("v-list-item-group",{attrs:{color:"primary"}},[e._l(e.menu,function(t,n){return[i("v-list-item",{key:n,attrs:{to:t.link}},[i("v-list-item-icon",[i("v-icon",[e._v(e._s(t.icon))])],1),i("v-list-item-content",[i("v-list-item-title",[e._v(e._s(t.title))])],1)],1)]})],2)],1)],1)],1)}),v=[],h={props:{menu:Array},data:function(){return{showNav:this.$vuetify.breakpoint.lg}},methods:{gotoHome:function(){this.$router.push({name:"index"})}}},b=h,g=i("2877"),y=i("6544"),w=i.n(y),k=i("40dc"),D=i("5bc1"),x=i("ce7e"),j=i("132d"),E=i("8860"),O=i("da13"),P=i("5d23"),C=i("1baa"),M=i("34c3"),T=i("f774"),A=i("2a7f"),I=Object(g["a"])(b,m,v,!1,null,null,null),R=I.exports;w()(I,{VAppBar:k["a"],VAppBarNavIcon:D["a"],VDivider:x["a"],VIcon:j["a"],VList:E["a"],VListItem:O["a"],VListItemContent:P["a"],VListItemGroup:C["a"],VListItemIcon:M["a"],VListItemTitle:P["c"],VNavigationDrawer:T["a"],VToolbarTitle:A["a"]});var F=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-footer",{attrs:{dark:"",padless:""}},[i("v-card",{staticClass:"flex secondary",attrs:{flat:"",tile:""}},[i("v-card-title",{staticClass:"py-4 body-2"},[i("v-layout",{attrs:{"justify-center":"","text-center":"",row:""}},[e._l(e.menu,function(t,n){return[i("v-flex",{key:n,attrs:{xs12:"",sm6:"",md4:""}},[i("v-btn",{staticClass:"text-none",attrs:{to:t.link,exact:"",text:""}},[e._v(e._s(t.title))])],1)]}),i("v-flex",{attrs:{xs12:""}},[i("v-divider",{staticClass:"ma-4"}),i("div",{staticClass:"mb-4"},[i("u",[e._v("Implemented By")])])],1),i("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[e._v("Ng Sze Yeung Chris (51470300)")]),i("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[e._v("Pang Chun Lam (55750220)")]),i("v-flex",{attrs:{xs12:"",sm6:"",md4:""}},[e._v("Yeung Chun Ho (55749780)")])],2)],1),i("v-card-actions",{staticClass:"primary justify-center overline"},[e._v("Advanced Database Systems - Assignment 2 (Part B) - Group 5A")])],1)],1)},S=[],V={props:{menu:Array}},B=V,L=i("8336"),$=i("b0af"),U=i("99d9"),q=i("0e8f"),W=i("553a"),N=i("a722"),K=Object(g["a"])(B,F,S,!1,null,null,null),z=K.exports;w()(K,{VBtn:L["a"],VCard:$["a"],VCardActions:U["a"],VCardTitle:U["c"],VDivider:x["a"],VFlex:q["a"],VFooter:W["a"],VLayout:N["a"]});var Y={components:{AppToolbar:R,AppFooter:z},data:function(){var e=[],t=!0,i=!1,n=void 0;try{for(var a,r=this.$router.options.routes[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var s=a.value;if(s.meta&&s.meta.menu){var l=s.meta.menu;e.push({icon:l.icon,title:l.title,link:{name:s.name}})}}}catch(o){i=!0,n=o}finally{try{t||null==r.return||r.return()}finally{if(i)throw n}}return{ready:!1,menu:e,configs:null,options:{},optionsRequests:[]}},provide:function(){var e=this,t={};return Object.defineProperty(t,"menu",{enumerable:!0,get:function(){return e.menu}}),Object.defineProperty(t,"configs",{enumerable:!0,get:function(){return e.configs}}),Object.defineProperty(t,"entities",{enumerable:!0,get:function(){return e.configs.entities}}),Object.defineProperty(t,"options",{enumerable:!0,get:function(){return e.options}}),Object.defineProperty(t,"optionsRequests",{enumerable:!0,get:function(){return e.optionsRequests}}),t},watch:{"$route.name":function(){this.options={},this.optionsRequests=[]},$route:function(e){console.debug("route",e)}},created:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r,s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$api.getConfigs();case 2:for(r in t=this.configs=e.sent,n=t.entities,a=function(e){var t=n[e],a="maint-"+t.plural,r=[];r.push({path:"/"+t.collection,name:a,component:function(){return i.e("chunk-2d0af8b7").then(i.bind(null,"0f7b"))},props:function(e){return{entity:t}}}),r.push({path:"/".concat(t.collection,"/:id"),name:"maint-"+t.singular,component:function(){return i.e("chunk-30943e50").then(i.bind(null,"fa91"))},props:function(e){return{entity:t}}}),s.$router.addRoutes(r),s.menu.push({title:t.plural,icon:t.icon||"mdi-wrench",link:{name:a}})},n)a(r);this.$router.addRoutes([{path:"/:path*",component:function(){return i.e("chunk-2d208aab").then(i.bind(null,"a688"))},props:{code:404}}]),this.ready=!0;case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),methods:{toggleNav:function(e){this.showNav=e}}},H=Y,G=i("7496"),J=i("a523"),Q=i("a75b"),X=Object(g["a"])(H,_,f,!1,null,null,null),Z=X.exports;w()(X,{VApp:G["a"],VContainer:J["a"],VContent:Q["a"],VFlex:q["a"],VLayout:N["a"]});var ee={name:"App",components:{AppFrame:Z}},te=ee,ie=Object(g["a"])(te,u,d,!1,null,null,null),ne=ie.exports,ae=(i("55dd"),i("bc3a")),re=i.n(ae),se=i("4328"),le=i.n(se),oe={install:function(e){e.prototype.$api=this},getOptionItemText:function(e){return e.desc?e.desc.key&&e.desc.label?function(t){return t[e.desc.key]+" - "+t[e.desc.label]}:e.desc.key?function(t){return t[e.desc.key]}:e.desc.label?function(t){return t[e.desc.label]}:void 0:"_id"},getConfigs:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.sendRequest("get","/configs");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),sendRequest:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,i,n){var a,r,s,l;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,r={baseURL:"http://localhost/api",paramsSerializer:ce,url:i,method:t},"get"===t?r.params=n:r.data=n,e.next=5,re.a.request(r);case 5:s=e.sent,console.debug(t,i,s),a=s.data,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),l=e.t0.response,a=l?l&&l.status>=400&&l.status<500?{error:l.data.error}:{error:e.t0.message}:{error:"Network Error. Please try again later."};case 14:return e.prev=14,e.abrupt("return",a);case 17:case"end":return e.stop()}},e,null,[[0,10,14,17]])}));function t(t,i,n){return e.apply(this,arguments)}return t}(),getJoinedOffers:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t){var i,n,a,r=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return i=r.length>1&&void 0!==r[1]?r[1]:{},n=i.page,a=i.sort,a||(a="-_id"),e.abrupt("return",this.sendRequest("get","/offers",{filter:t,join:["department"],page:n,sort:a}));case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),insert:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendRequest("post",t,i));case 1:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),update:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,i,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendRequest("put",t+"/"+i,n));case 1:case"end":return e.stop()}},e,this)}));function t(t,i,n){return e.apply(this,arguments)}return t}(),delete:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendRequest("delete",t+"/"+i));case 1:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),get:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,i,n){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendRequest("get",t+"/"+i,n));case 1:case"end":return e.stop()}},e,this)}));function t(t,i,n){return e.apply(this,arguments)}return t}(),query:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,i){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendRequest("get",t,i));case 1:case"end":return e.stop()}},e,this)}));function t(t,i){return e.apply(this,arguments)}return t}(),queryStringOptions:function(){var e=Object(p["a"])(regeneratorRuntime.mark(function e(t,i,n,a){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",this.sendRequest("get","/".concat(t,"-string-options"),{field:i,size:n,filter:a}));case 1:case"end":return e.stop()}},e,this)}));function t(t,i,n,a){return e.apply(this,arguments)}return t}()};function ce(e){return le.a.stringify(e,{arrayFormat:"brackets"})}i("28a5");var ue=i("c1df"),de=i.n(ue),_e="YYYY/MM/DD HH:mm:ss",fe="YYYY/MM/DD",pe={install:function(e,t){e.prototype.$utils=this},downloadFile:function(e,t){var i=new Blob([t]);if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(i,e);else{var n=window.URL||window.webkitURL,a=n.createObjectURL(i),r=window.document.createElement("a");r.href=a,r.download=e,document.body.appendChild(r),r.click(),document.body.removeChild(r)}},getItemById:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",n=!0,a=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var o=s.value;if(o[i]===t)return o}}catch(c){a=!0,r=c}finally{try{n||null==l.return||l.return()}finally{if(a)throw r}}return null},cloneVarDeep:function(e){return JSON.parse(JSON.stringify(e))},getVarByDotNotation:function(e,t){return t.split(".").reduce(function(e,t){if(e)return e[t]},e)},setVarByDotNotation:function(e,t,i){var n;for(t=t.split("."),n=0;n<t.length-1;n++)e=e[t[n]]||{};e[t[n]]=i},removeItemsFromArray:function(e,t){var i=!0,n=!1,a=void 0;try{for(var r,s=t[Symbol.iterator]();!(i=(r=s.next()).done);i=!0){var l=r.value;this.removeItemFromArray(e,l)}}catch(o){n=!0,a=o}finally{try{i||null==s.return||s.return()}finally{if(n)throw a}}},removeItemFromArray:function(e,t){var i=e.indexOf(t);-1!==i&&e.splice(i,1)},datetimeToString:function(e){return e?de()(e).format(_e):null},stringToDatetime:function(e){return e?de()(e,_e).toDate():null},dateToString:function(e){return e?de()(e).format(fe):null},stringToDate:function(e){return e?de()(e,fe).toDate():null}},me=i("80c7"),ve=i("7226"),he=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-container",[e.loading?i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("h3",{staticClass:"primary--text font-weight-light"},[e._v("Loading Options... Please wait")])])],1):i("v-layout",{attrs:{row:"",wrap:""}},[e._l(e.editFields,function(t,n){return[i("v-flex",{key:n,attrs:{xs12:""}},[e.fieldsetSrc&&e.fieldsetSrc.key===n?[i("v-combobox",{attrs:{label:t.label+(e.required(t)?" *":""),rules:e.getRules(t),readonly:e.readonly(t),loading:e.fieldsetAutoInput.loading,items:e.fieldsetAutoInput.items,"item-value":n,"item-text":n,"search-input":e.fieldsetAutoInput.input,"no-filter":"",dense:"","hide-no-data":"","validate-on-blur":"",placeholder:"Input '"+e.fieldsRoot[e.fieldsetSrc.itemkey].label+"' first"},on:{"update:searchInput":function(t){return e.$set(e.fieldsetAutoInput,"input",t)},"update:search-input":function(t){return e.$set(e.fieldsetAutoInput,"input",t)}},scopedSlots:e._u([{key:"item",fn:function(t){return[i("v-list-item-content",[i("v-list-item-title",{domProps:{innerHTML:e._s(t.item[n])}})],1)]}}],null,!0),model:{value:e.fieldsetAutoInput.item,callback:function(t){e.$set(e.fieldsetAutoInput,"item",t)},expression:"fieldsetAutoInput.item"}}),i("input",{attrs:{type:"hidden"},domProps:{value:e.value[n]}})]:"entity"===t.type?i("v-autocomplete",{attrs:{label:t.label+(e.required(t)?" *":""),rules:e.getRules(t),readonly:e.readonly(t),"item-value":"_id","item-text":e.$api.getOptionItemText(e.entities[t.entity]),items:e.options[t.entity],"append-icon":e.readonly(t)?"mdi-pencil-off":null,clearable:!e.readonly(t),chips:"new"===e.id&&t.bulk,"deletable-chips":"new"===e.id&&t.bulk,multiple:"new"===e.id&&t.bulk,"return-object":!1},model:{value:e.value[n],callback:function(t){e.$set(e.value,n,t)},expression:"value[fieldName]"}}):"fieldset"===t.type?[i("v-expansion-panels",{staticClass:"mb-4 mt-2",model:{value:e.activeFieldsetPanels[n],callback:function(t){e.$set(e.activeFieldsetPanels,n,t)},expression:"activeFieldsetPanels[fieldName]"}},[i("v-expansion-panel",[i("v-expansion-panel-header",{attrs:{ripple:""}},[i("h4",{staticClass:"title font-weight-regular"},[e._v(e._s(t.label))])]),i("v-expansion-panel-content",[i("EditFields",{attrs:{fields:e.configs.fieldsets[t.fieldset].fields,id:e.id,fieldsetSrc:t.src,fieldsRoot:e.fieldsRoot,valueRoot:e.valueRoot},model:{value:e.value[n],callback:function(t){e.$set(e.value,n,t)},expression:"value[fieldName]"}})],1)],1)],1)]:"list"===t.type?i("EditFieldsList",{attrs:{field:t,readonly:e.readonly(t)},model:{value:e.value[n],callback:function(t){e.$set(e.value,n,t)},expression:"value[fieldName]"}}):"date"===t.type?i("DateField",{attrs:{label:t.label+(e.required(t)?" *":""),rules:e.getRules(t),readonly:e.readonly(t)},model:{value:e.value[n],callback:function(t){e.$set(e.value,n,t)},expression:"value[fieldName]"}}):"datetime"===t.type?i("DatetimeField",{attrs:{label:t.label+(e.required(t)?" *":""),rules:e.getRules(t),readonly:e.readonly(t)},model:{value:e.value[n],callback:function(t){e.$set(e.value,n,t)},expression:"value[fieldName]"}}):i("v-text-field",{attrs:{type:"number"===t.type?"number":"text",label:t.label+(e.required(t)?" *":""),rules:e.getRules(t),readonly:e.readonly(t),"append-icon":e.readonly(t)?"mdi-pencil-off":null,clearable:!e.readonly(t)},model:{value:e.value[n],callback:function(t){e.$set(e.value,n,t)},expression:"value[fieldName]"}})],2)]})],2)],1)},be=[],ge=i("2ecc"),ye=ge["a"],we=i("c6a6"),ke=i("2b5d"),De=i("cd55"),xe=i("49e2"),je=i("c865"),Ee=i("0393"),Oe=i("8654"),Pe=Object(g["a"])(ye,he,be,!1,null,null,null),Ce=Pe.exports;w()(Pe,{VAutocomplete:we["a"],VCombobox:ke["a"],VContainer:J["a"],VExpansionPanel:De["a"],VExpansionPanelContent:xe["a"],VExpansionPanelHeader:je["a"],VExpansionPanels:Ee["a"],VFlex:q["a"],VLayout:N["a"],VListItemContent:P["a"],VListItemTitle:P["c"],VTextField:Oe["a"]}),n["a"].use(oe),n["a"].use(pe),n["a"].component("ListView",me["a"]),n["a"].component("EditView",ve["a"]),n["a"].component("EditFields",Ce),n["a"].config.productionTip=!1,new n["a"]({vuetify:r,router:c,render:function(e){return e(ne)}}).$mount("#app")},"5e00":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-menu",{attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","full-width":"","max-width":"290px","min-width":"290px",disabled:e.readonly},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-text-field",e._g({attrs:{label:e.label,"append-icon":e.readonly?"mdi-pencil-off":"mdi-calendar",rules:e.rulesWithFormat,readonly:"",clearable:!e.readonly},scopedSlots:e._u([{key:"append-outer",fn:function(){return[e._t("append-outer")]},proxy:!0}],null,!0),model:{value:e.valueStr,callback:function(t){e.valueStr=t},expression:"valueStr"}},n))]}}]),model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[i("v-date-picker",{attrs:{"show-current":"","no-title":"",color:"primary"},on:{input:function(t){e.showPicker=!1}},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1)},a=[],r=i("75fc"),s=i("c1df"),l=i.n(s),o={model:{prop:"value",event:"valChange"},props:{value:Date|String,label:String,rules:{type:Array,default:function(){return[]}},readonly:Boolean},data:function(){var e=this;return{showPicker:!1,rulesWithFormat:[].concat(Object(r["a"])(this.rules),[function(t){return!t||!isNaN(e.$utils.stringToDate(t))||"Invalid Format"}]),date:""}},watch:{date:function(e){this.showPicker||this.$emit("valChange",l()(e,"YYYY-MM-DD").toDate())},showPicker:function(e){e&&(this.date=this.value&&l()(this.value).format("YYYY-MM-DD"))}},computed:{valueStr:{get:function(){return this.$utils.dateToString(this.value)},set:function(e){this.$emit("valChange",e?this.$utils.stringToDate(e):e)}}}},c=o,u=i("2877"),d=i("6544"),_=i.n(d),f=i("2e4b"),p=i("e449"),m=i("8654"),v=Object(u["a"])(c,n,a,!1,null,null,null);t["a"]=v.exports;_()(v,{VDatePicker:f["a"],VMenu:p["a"],VTextField:m["a"]})},7226:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e.item?i("v-card",[i("v-form",{ref:"form",attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.submit(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[e.entity.references&&"new"!==e.id?[i("v-tabs",[i("v-tab",{attrs:{href:"#tabmain"}},[i("v-icon",[e._v("mdi-information-variant")])],1),e._l(e.entity.references,function(t,n){return i("v-tab",{key:n,staticClass:"text-none",attrs:{href:"#tab-"+n}},[e._v(e._s(t.label))])}),i("v-tab-item",{attrs:{value:"tabmain"}},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[e.alert.self?i("BaseAlert",{attrs:{value:e.alert.show,type:e.alert.type,msg:e.alert.msg}}):e._e(),i("EditFields",{attrs:{id:e.id,fields:e.entity.fields},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"text-none",attrs:{color:"warning",text:""},on:{click:e.reset}},[e._v("Reset")]),i("v-btn",{staticClass:"text-none",attrs:{type:"submit",disabled:!e.valid,color:"primary",text:""}},[e._v("Submit")])],1)],1)],1),e._l(e.entity.references,function(t,n){return i("v-tab-item",{key:n,attrs:{value:"tab-"+n}},[i("v-card",{attrs:{flat:""}},[i("v-card-text",[i("ListView",{attrs:{alert:e.alert,entity:e.entities[t.entity],viewType:t.view,readonly:"",dense:"",constFilter:e.getReferenceFilter(t)}})],1)],1)],1)})],2)]:[i("v-card",{attrs:{flat:""}},[i("v-card-text",[e.alert.self?i("BaseAlert",{attrs:{value:e.alert.show,type:e.alert.type,msg:e.alert.msg}}):e._e(),i("EditFields",{attrs:{id:e.id,fields:e.entity.fields},model:{value:e.item,callback:function(t){e.item=t},expression:"item"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"text-none",attrs:{color:"warning",text:""},on:{click:e.reset}},[e._v("Reset")]),i("v-btn",{staticClass:"text-none",attrs:{type:"submit",disabled:!e.valid||e.submitting,color:"primary",text:""}},[e._v(e._s(e.submitting?"Submitting":"Submit"))])],1)],1)]],2)],1):e.loading?i("v-card",[i("v-card-text",[i("h3",{staticClass:"primary--text font-weight-light"},[e._v("Loading "+e._s(e.entity.singular)+"... Please wait")])])],1):i("v-card",[i("v-card-title",[i("h3",{staticClass:"primary--text"},[e._v(e._s(e.entity.singular)+" Not Found")])]),i("v-divider",{staticClass:"primary"}),i("v-card-text",[e._v(e._s(e.id)+" is not exist.")]),i("v-card-actions",[i("v-btn",{attrs:{color:"primary",text:"",to:{params:{id:"new"}}}},[e._v("New "+e._s(e.entity.singular))])],1)],1)],1)},a=[],r=i("203a"),s=r["a"],l=i("2877"),o=i("6544"),c=i.n(o),u=i("8336"),d=i("b0af"),_=i("99d9"),f=i("ce7e"),p=i("4bd4"),m=i("132d"),v=i("2fa4"),h=i("71a3"),b=i("c671"),g=i("fe57"),y=Object(l["a"])(s,n,a,!1,null,null,null);t["a"]=y.exports;c()(y,{VBtn:u["a"],VCard:d["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VDivider:f["a"],VForm:p["a"],VIcon:m["a"],VSpacer:v["a"],VTab:h["a"],VTabItem:b["a"],VTabs:g["a"]})},"74c9":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"datetime-field"},[i("v-dialog",{attrs:{disabled:e.readonly,"max-width":"330"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-text-field",e._g({attrs:{label:e.label,"append-icon":e.readonly?"mdi-pencil-off":"mdi-calendar-clock",rules:e.rulesWithFormat,readonly:"",clearable:!e.readonly},scopedSlots:e._u([{key:"append-outer",fn:function(){return[e._t("append-outer")]},proxy:!0}],null,!0),model:{value:e.valueStr,callback:function(t){e.valueStr=t},expression:"valueStr"}},n))]}}]),model:{value:e.showPicker,callback:function(t){e.showPicker=t},expression:"showPicker"}},[e.showPicker?i("v-card",[i("v-card-title",{staticClass:"text-center"},[i("div",{staticStyle:{width:"100%"}},[i("v-btn",{attrs:{text:"",color:0==e.active?"primary":"grey",width:"50%"},on:{click:function(t){e.active=0}}},[e._v("Date")]),i("v-btn",{attrs:{text:"",color:1==e.active?"primary":"grey",width:"50%"},on:{click:function(t){e.active=1}}},[e._v("Time")])],1)]),i("v-card-text",{staticClass:"text-center",staticStyle:{height:"390px"}},[i("v-window",{attrs:{vertical:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[i("v-window-item",{attrs:{value:0}},[i("v-date-picker",{staticStyle:{"box-shadow":"none"},attrs:{color:"primary","show-current":""},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),i("v-window-item",{attrs:{value:1}},[i("v-time-picker",{ref:"timePicker",staticStyle:{"box-shadow":"none"},attrs:{color:"primary","use-seconds":"",scrollable:""},model:{value:e.time,callback:function(t){e.time=t},expression:"time"}})],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:"",color:"grey"},on:{click:function(t){e.showPicker=!1}}},[e._v("Cancel")]),i("v-btn",{attrs:{text:"",color:"primary"},on:{click:e.clickOk}},[e._v("OK")])],1)],1):e._e()],1)],1)},a=[],r=i("75fc"),s=i("c1df"),l=i.n(s),o={model:{prop:"value",event:"valChange"},props:{value:Date|String,label:String,rules:{type:Array,default:function(){return[]}},readonly:Boolean},data:function(){var e=this;return{showPicker:!1,rulesWithFormat:[].concat(Object(r["a"])(this.rules),[function(t){return!t||!isNaN(e.$utils.stringToDatetime(t))||"Invalid Format"}]),active:0,date:"",time:""}},computed:{valueStr:{get:function(){return this.$utils.datetimeToString(this.value)},set:function(e){this.$emit("valChange",e?this.$utils.stringToDatetime(e):e)}}},watch:{showPicker:function(e){e&&(this.value?(this.date=l()(this.value).format("YYYY-MM-DD"),this.time=l()(this.value).format("HH:mm:ss")):(this.date="",this.time=""))}},methods:{clickOk:function(){var e=l()(this.date+this.time,"YYYY-MM-DDHH:mm:ss").toDate();this.valueStr=this.$utils.datetimeToString(e),this.showPicker=!1}}},c=o,u=(i("de05"),i("2877")),d=i("6544"),_=i.n(d),f=i("8336"),p=i("b0af"),m=i("99d9"),v=i("2e4b"),h=i("169a"),b=i("2fa4"),g=i("8654"),y=i("c964"),w=i("f665"),k=i("1e6c"),D=Object(u["a"])(c,n,a,!1,null,"a1c39b88",null);t["a"]=D.exports;_()(D,{VBtn:f["a"],VCard:p["a"],VCardActions:m["a"],VCardText:m["b"],VCardTitle:m["c"],VDatePicker:v["a"],VDialog:h["a"],VSpacer:b["a"],VTextField:g["a"],VTimePicker:y["b"],VWindow:w["a"],VWindowItem:k["a"]})},"7d22":function(e,t,i){"use strict";var n=i("f5aa"),a=i.n(n);a.a},"80c7":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.items.data,"server-items-length":e.items.meta.total,options:e.pagination,loading:e.loading,"multi-sort":"",dense:e.dense,id:"maint-data-list"},on:{"update:options":function(t){e.pagination=t}},scopedSlots:e._u([{key:"top",fn:function(){return[i("ListFilter",{attrs:{entity:e.entity,viewType:e.viewType},on:{search:function(t){return e.search(!0)}},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),i("v-toolbar",{attrs:{color:"primary",dark:"",dense:"",flat:""}},[e.readonly?e._e():i("v-btn",{staticClass:"text-none",attrs:{text:""},on:{click:function(t){return e.showEditDialog("new")}}},[e._v(e._s("New "+e.entity.singular))]),i("v-spacer"),i("v-divider",{staticClass:"mx-2",attrs:{vertical:"",inset:""}}),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({attrs:{icon:""},on:{click:function(t){return e.resetSort()}}},n),[i("v-icon",[e._v("mdi-sort-variant")])],1)]}}])},[i("span",[e._v("Clear Sort")])]),i("v-divider",{staticClass:"mx-2",attrs:{vertical:"",inset:""}}),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({attrs:{icon:""},on:{click:e.search}},n),[i("v-icon",[e._v("mdi-refresh")])],1)]}}])},[i("span",[e._v("Refresh")])])],1),i("v-dialog",{attrs:{persistent:"",width:"800"},model:{value:e.editDialog.visible,callback:function(t){e.$set(e.editDialog,"visible",t)},expression:"editDialog.visible"}},[e.editDialog.visible?i("v-card",[i("v-card-title",{staticClass:"primary white--text"},[e._v("\n          "+e._s(("new"===e.editDialog.id?"New ":"Edit ")+e.entity.singular)+"\n          "),i("v-spacer"),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({attrs:{to:{name:"maint-"+e.entity.singular,params:{id:e.editDialog.id}},target:"_blank",dark:"",small:"",icon:""}},n),[i("v-icon",[e._v("mdi-open-in-new")])],1)]}}],null,!1,2008511926)},[i("span",[e._v("Open in new tab")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({attrs:{dark:"",small:"",icon:""},on:{click:function(t){e.editDialog.visible=!1}}},n),[i("v-icon",[e._v("mdi-close")])],1)]}}],null,!1,3833628910)},[i("span",[e._v("Close")])])],1),i("EditView",{staticClass:"edit-dialog",staticStyle:{"overflow-y":"auto","max-height":"600px"},attrs:{id:e.editDialog.id,entity:e.entity},on:{updated:e.itemUpdated,submit:function(t){return e.dialogScrollToTop()},reset:function(t){return e.dialogScrollToTop()}}})],1):e._e()],1),i("v-dialog",{attrs:{width:"400"},model:{value:e.deleteDialog.visible,callback:function(t){e.$set(e.deleteDialog,"visible",t)},expression:"deleteDialog.visible"}},[i("v-card",[i("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[e._v("Are you confirm to delete?")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:function(t){e.deleteDialog.visible=!1}}},[e._v("Cancel")]),i("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.deleteItem(e.deleteDialog.item)}}},[e._v("Delete")])],1)],1)],1)]},proxy:!0},{key:"item",fn:function(t){var n=t.item;return[i("tr",[i("td",[e.readonly?[i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-btn",e._g({attrs:{to:{name:"maint-"+e.entity.singular,params:{id:n._id}},target:"_blank",small:"",icon:""}},a),[i("v-icon",[e._v("mdi-open-in-new")])],1)]}}],null,!0)},[i("span",[e._v("Open in new tab")])])]:[i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-btn",e._g({attrs:{small:"",icon:""},on:{click:function(t){return e.showEditDialog(n._id)}}},a),[i("v-icon",[e._v("mdi-pencil")])],1)]}}],null,!0)},[i("span",[e._v("Edit")])]),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-btn",e._g({attrs:{small:"",icon:""},on:{click:function(t){return e.showDeleteDialog(n)}}},a),[i("v-icon",[e._v("mdi-delete")])],1)]}}],null,!0)},[i("span",[e._v("Delete")])])]],2),e._l(e.headers,function(t,a){return[a>0?["date"===t.type?i("td",{key:t.value},[e._v(e._s(e.$utils.dateToString(n[t.value])))]):"datetime"===t.type?i("td",{key:t.value},[e._v(e._s(e.$utils.datetimeToString(n[t.value])))]):i("td",{key:t.value},[e._v(e._s(e.$utils.getVarByDotNotation(n,t.value)))])]:e._e()]})],2)]}}])})},a=[],r=(i("8e6e"),i("ac6a"),i("456d"),i("bd86")),s=(i("96cf"),i("3b8d")),l=(i("386d"),i("6762"),i("2fdb"),i("f869")),o=i("47a5");function c(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?c(i,!0).forEach(function(t){Object(r["a"])(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):c(i).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}var d={name:"ListView",components:{BaseAlert:l["a"],ListFilter:o["a"]},props:{entity:Object,readonly:Boolean,dense:Boolean,viewType:String,constFilter:Object,alert:{type:Object,default:function(){return{show:!1,self:!0}}}},inject:["configs","entities"],data:function(){var e=[{text:"Actions",value:"",sortable:!1,width:120}],t=[],i=[],n=this;function a(r,s){for(var l in r){var o=r[l];if(o.view.includes(n.viewType)){if(s&&(l=s+"."+l),"entity"===o.type){var c=n.entities[o.entity];if(c.desc){if(i.push(o.entity),c.desc.key){var u=c.fields[c.desc.key],d="_join.".concat(o.entity,".").concat(c.desc.key);e.push({text:u.label,type:o.type+"-key",value:d,width:120}),t.push(d)}if(c.desc.label){var _=c.fields[c.desc.label],f="_join.".concat(o.entity,".").concat(c.desc.label);e.push({text:_.label,type:o.type+"-label",value:f,width:120}),t.push(f)}continue}}else if("fieldset"===o.type){var p=n.configs.fieldsets[o.fieldset];a(p.fields,l);continue}e.push({text:o.label,type:o.type,value:l,width:120}),t.push(l)}}}return a(this.entity.fields),{headers:e,items:{meta:{total:0},data:[]},loading:!1,pagination:{sortBy:[],sortDesc:[],page:1,itemsPerPage:10},editDialog:{visible:!1,id:null},deleteDialog:{visible:!1,item:null},filter:{},listFields:t,joinEntity:i}},computed:{apiOptions:function(){for(var e,t=this.pagination,i=t.sortBy,n=t.sortDesc,a=t.itemsPerPage,r=[],s=0;s<i.length;s++)r.push(n[s]?"-"+i[s]:i[s]);return-1!==a&&(e={size:a,number:this.pagination.page}),{page:e,sort:r}}},watch:{apiOptions:function(){this.search()},"editDialog.visible":function(e){e||this.query()}},methods:{dialogScrollToTop:function(){document.getElementsByClassName("edit-dialog")[0].scrollTop=0},resetSort:function(){var e={};Object.assign(e,this.pagination),e.sortBy=[],e.sortDesc=[],this.pagination=e},resetPage:function(){var e={};Object.assign(e,this.pagination),e.page=1,this.pagination=e},search:function(e){e&&1!==this.pagination.page?this.resetPage():(this.alert.show=!1,this.query())},query:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(){var t,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,t=this.constFilter?u({},this.filter,{},this.constFilter):this.filter,e.next=4,this.$api.query("/"+this.entity.collection,u({filter:t,fields:this.listFields,join:this.joinEntity},this.apiOptions));case 4:i=e.sent,i.error?this.showError(i.error):this.items=i,this.loading=!1;case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),editItem:function(e){this.$router.push({name:"department",params:{id:e._id}})},showEditDialog:function(e){this.editDialog.visible=!0,this.editDialog.id=e},itemUpdated:function(e){"new"===this.editDialog.id&&(this.editDialog.id=e._id)},showDeleteDialog:function(e){this.alert.show=!1,this.deleteDialog.visible=!0,this.deleteDialog.item=e},deleteItem:function(){var e=Object(s["a"])(regeneratorRuntime.mark(function e(t){var i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.deleteDialog.visible=!1,e.next=3,this.$api.delete("/"+this.entity.collection,t._id);case 3:i=e.sent,i.ok?(this.alert.show=!0,this.alert.type="success",this.alert.msg="".concat(t._id," is deleted."),this.query()):i.error&&this.showError(i.error);case 5:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),showError:function(e){this.alert.type="error",this.alert.msg=e,this.alert.show=!0}}},_=d,f=(i("7d22"),i("2877")),p=i("6544"),m=i.n(p),v=i("8336"),h=i("b0af"),b=i("99d9"),g=i("8fea"),y=i("169a"),w=i("ce7e"),k=i("132d"),D=i("2fa4"),x=i("71d9"),j=i("3a2f"),E=Object(f["a"])(_,n,a,!1,null,"5875b4c3",null);t["a"]=E.exports;m()(E,{VBtn:v["a"],VCard:h["a"],VCardActions:b["a"],VCardTitle:b["c"],VDataTable:g["a"],VDialog:y["a"],VDivider:w["a"],VIcon:k["a"],VSpacer:D["a"],VToolbar:x["a"],VTooltip:j["a"]})},de05:function(e,t,i){"use strict";var n=i("1e4f"),a=i.n(n);a.a},de49:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.value},scopedSlots:e._u([{key:"top",fn:function(){return[i("v-toolbar",{attrs:{color:"primary",dark:"",dense:"",flat:""}},[i("v-toolbar-title",{staticClass:"mr-2"},[i("h4",{staticClass:"title font-weight-regular"},[e._v(e._s(e.field.label))])]),i("v-divider",{staticClass:"mx-2",attrs:{inset:"",vertical:""}}),e.readonly?e._e():i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({attrs:{small:"",icon:""},on:{click:function(t){return e.showEditDialog("new")}}},n),[i("v-icon",[e._v("mdi-plus")])],1)]}}],null,!1,4241649340)},[i("span",[e._v(e._s("Add "+e.field.label))])]),i("v-spacer"),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({attrs:{small:"",icon:""},on:{click:e.showDeleteDialog}},n),[i("v-icon",[e._v("mdi-delete")])],1)]}}])},[i("span",[e._v("Delete")])]),i("span",{staticClass:"subtitle-1"},[e._v("Selected: "+e._s(e.selectedCount))])],1),i("v-dialog",{attrs:{persistent:"",width:"800"},model:{value:e.editDialog.visible,callback:function(t){e.$set(e.editDialog,"visible",t)},expression:"editDialog.visible"}},[i("v-form",{on:{submit:function(t){return t.preventDefault(),e.submitItem(t)}},model:{value:e.editDialog.valid,callback:function(t){e.$set(e.editDialog,"valid",t)},expression:"editDialog.valid"}},[e.editDialog.visible?i("v-card",[i("v-card-title",{staticClass:"primary white--text"},[e._v("\n            "+e._s((-1===e.editDialog.index?"New ":"Edit ")+e.field.label)+"\n            "),i("v-spacer"),i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[i("v-btn",e._g({attrs:{dark:"",small:"",icon:""},on:{click:function(t){e.editDialog.visible=!1}}},n),[i("v-icon",[e._v("mdi-close")])],1)]}}],null,!1,3833628910)},[i("span",[e._v("Close")])])],1),i("v-card-text",[i("BaseAlert",{attrs:{value:e.editDialogAlert.show,type:e.editDialogAlert.type,msg:e.editDialogAlert.msg}}),i("EditFields",{attrs:{fields:e.fields,id:-1===e.editDialog.index?"new":e.editDialog.index},model:{value:e.editDialog.item,callback:function(t){e.$set(e.editDialog,"item",t)},expression:"editDialog.item"}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{staticClass:"text-none",attrs:{color:"warning",text:""},on:{click:e.resetItem}},[e._v("Reset")]),i("v-btn",{staticClass:"text-none",attrs:{type:"submit",disabled:!e.editDialog.valid,color:"primary",text:""}},[e._v("Submit")])],1)],1):e._e()],1)],1),i("v-dialog",{attrs:{width:"400"},model:{value:e.deleteDialog.visible,callback:function(t){e.$set(e.deleteDialog,"visible",t)},expression:"deleteDialog.visible"}},[i("v-card",[i("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[e._v("Are you confirm to delete?")]),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{text:""},on:{click:function(t){e.deleteDialog.visible=!1}}},[e._v("Cancel")]),i("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){return e.deleteItem()}}},[e._v("Delete")])],1)],1)],1)]},proxy:!0},{key:"item",fn:function(t){var n=t.item;return[i("tr",[e.readonly?e._e():i("td",[i("v-checkbox",{model:{value:e.selected[e.value.indexOf(n)],callback:function(t){e.$set(e.selected,e.value.indexOf(n),t)},expression:"selected[value.indexOf(item)]"}})],1),i("td",[i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-btn",e._g({attrs:{small:"",icon:""},on:{click:function(t){return e.showEditDialog(n)}}},a),[i("v-icon",[e._v("mdi-pencil")])],1)]}}],null,!0)},[i("span",[e._v("Edit")])]),e.readonly?e._e():i("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[i("v-btn",e._g({attrs:{small:"",icon:""},on:{click:function(t){return e.showDeleteDialogSingle(n)}}},a),[i("v-icon",[e._v("mdi-delete")])],1)]}}],null,!0)},[i("span",[e._v("Delete")])])],1),e._l(e.headers,function(t,a){return[e.readonly&&a>0||!e.readonly&&a>1?["date"===t.type?i("td",{key:t.value},[e._v(e._s(e.$utils.dateToString(n[t.value])))]):"datetime"===t.type?i("td",{key:t.value},[e._v(e._s(e.$utils.datetimeToString(n[t.value])))]):i("td",{key:t.value},[e._v(e._s(e.$utils.getVarByDotNotation(n,t.value)))])]:e._e()]})],2)]}}])},[[i("v-checkbox",{model:{value:e.selectAll,callback:function(t){e.selectAll=t},expression:"selectAll"}})]],2)},a=[],r=i("51e7"),s=r["a"],l=i("2877"),o=i("6544"),c=i.n(o),u=i("8336"),d=i("b0af"),_=i("99d9"),f=i("ac7c"),p=i("8fea"),m=i("169a"),v=i("ce7e"),h=i("4bd4"),b=i("132d"),g=i("2fa4"),y=i("71d9"),w=i("2a7f"),k=i("3a2f"),D=Object(l["a"])(s,n,a,!1,null,null,null);t["a"]=D.exports;c()(D,{VBtn:u["a"],VCard:d["a"],VCardActions:_["a"],VCardText:_["b"],VCardTitle:_["c"],VCheckbox:f["a"],VDataTable:p["a"],VDialog:m["a"],VDivider:v["a"],VForm:h["a"],VIcon:b["a"],VSpacer:g["a"],VToolbar:y["a"],VToolbarTitle:w["a"],VTooltip:k["a"]})},f5aa:function(e,t,i){},f869:function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("v-alert",{staticClass:"my-2",attrs:{border:"left",outlined:"",dense:"",value:e.value,type:e.type,transition:"scale-transition"}},[e._v(e._s(e.msg))])},a=[],r={props:{value:Boolean,type:String,msg:String}},s=r,l=i("2877"),o=i("6544"),c=i.n(o),u=i("0798"),d=Object(l["a"])(s,n,a,!1,null,null,null);t["a"]=d.exports;c()(d,{VAlert:u["a"]})},f917:function(e,t,i){"use strict";i("ac6a"),i("5df3"),i("96cf");var n=i("3b8d");t["a"]={inject:{entities:{},options:{default:{}},optionsRequests:{default:[]}},methods:{initOptions:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:for(i in t)n=t[i],"entity"!==n.type&&"entities"!==n.type||this.options[n.entity]||(this.options[n.entity]=[],this.optionsRequests.push(this.loadOptions(n.entity)));return e.next=3,Promise.all(this.optionsRequests);case 3:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),loadOptions:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var i,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=this.entities[t],i=n.desc&&n.desc.key?n.desc.key:"_id",e.next=4,this.$api.query("/"+n.collection,{sort:i});case 4:a=e.sent,this.options[t]=a.data;case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}}}});